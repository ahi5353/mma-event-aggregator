# 設計書

このドキュメントは、アプリケーションの設計とアーキテクチャの概要を説明します。

## 1. はじめに

このアプリケーションは、トーナメントイベントを表示するシンプルなイベントカレンダーです。ユーザーはカレンダーでイベントを閲覧し、月を移動し、各イベントの詳細（対戦カードなど）を確認できます。

## 2. アーキテクチャ

このアプリケーションはAngularで構築されており、コンポーネントベースのアーキテクチャに従っています。UIコンポーネントにはAngular Materialを、状態管理にはシグナルを使用しています。全体的な構造は以下の通りです。

- **`EventService`**: イベントデータの取得を担当するルートレベルのサービスです。
- **コンポーネント**: UIはいくつかのコンポーネントで構成されています。
  - **`Calendar`**: カレンダーを表示するメインコンポーネントです。
  - **`EventDetail`**: ダイアログでイベントの詳細を表示するコンポーネントです。
- **データモデル**: アプリケーションは`TournamentEvent`モデルを使用してイベントデータを表現します。

## 3. コンポーネント

### 3.1. Calendar コンポーネント

- **ファイル**: `src/app/components/page/calendar/calendar.ts`
- **説明**: このコンポーネントは月間カレンダーグリッドを表示します。`EventService`からイベントを取得し、対応する日に配置します。
- **機能**:
  - 現在の月のカレンダーを表示します。
  - ユーザーが前月と翌月に移動できるようにします。
  - 各日のイベント数を表示します。
  - 日付がクリックされたときにイベント詳細を含むダイアログを開きます。

### 3.2. EventDetail コンポーネント

- **ファイル**: `src/app/components/page/event-detail/event-detail.ts`
- **説明**: このコンポーネントは、ダイアログで単一のトーナメントイベントの詳細を表示します。
- **機能**:
  - イベントのタイトル、日付、その他のメタデータを表示します。
  - 対戦カードを解析して表示し、プレイヤー間の対戦相手を示します。

## 4. サービス

### 4.1. EventService

- **ファイル**: `src/app/services/event.service.ts`
- **説明**: このサービスは、JSONファイル（`events.json`）からイベントデータを取得する責任があります。
- **メソッド**:
  - **`getEvents()`**: すべての`TournamentEvent`オブジェクトの`Observable`を返します。
  - **`getEventById(id: string)`**: 指定されたIDに一致する単一の`TournamentEvent`の`Observable`を返します。